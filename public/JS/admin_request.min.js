function set_auth() {
    $.ajaxSetup({
        headers: {
            "Content-Type": "application/x-www-form-urlencoded",
            Accept: "application/x-www-form-urlencoded",
            Authorization: "bearer " + getCookie("token"),
        },
    });
}
function new_product() {
    set_auth(),
        $.post(
            "/su/add_product",
            {
                name: $("#name").val(),
                price: $("#price").val(),
                img: $("#img").val(),
                category: $("#category").val(),
                details: $("#detail").val(),
                specs: $("#specs").val(),
            },
            function (e, t, s) {
                "success" == t && 1 == e.success
                    ? go_to_web("/su/")
                    : alert(e.msg);
            }
        );
}
function save_product() {
    set_auth();
    var e = new URLSearchParams(window.location.search);
    $.post(
        "/su/ch_product",
        {
            product_id: e.get("id"),
            name: $("#name").val(),
            price: $("#price").val(),
            img: $("#img").val(),
            details: $("#detail").val(),
            specs: $("#specs").val(),
            category: $("#category").val(),
        },
        function (e, t, s) {
            "success" == t && 1 == e.success
                ? (alert(e.msg), document.location.reload())
                : alert(e.msg);
        }
    );
}
function rm_product() {
    pass = confirm("Are you sure you want to delete this product?");
    var e = new URLSearchParams(window.location.search);
    "" != getCookie("token") && 1 == pass
        ? (set_auth(),
          $.post(
              "/su/rm_product",
              { product_id: e.get("id") },
              function (e, t, s) {
                  "success" == t && 1 == e.success
                      ? go_to_web("/su/")
                      : alert(e.msg);
              }
          ))
        : go_to_web("/a/login");
}
function get_product() {
    if ("" != getCookie("token")) {
        set_auth();
        var e = new URLSearchParams(window.location.search);
        $.post(
            "/su/get_product",
            { product_id: e.get("id") },
            function (e, t, s) {
                "success" == t && 1 == e.success && display_product_a(e.body),
                    (document.getElementById("name").disabled = !0),
                    (document.getElementById("price").disabled = !0),
                    (document.getElementById("img").disabled = !0),
                    (document.getElementById("detail").disabled = !0),
                    (document.getElementById("specs").disabled = !0),
                    (document.getElementById("category").disabled = !0);
            }
        );
    } else go_to_web("/a/login");
}
function get_list() {
    set_auth(),
        $.post("/su/list", {}, function (e, t, s) {
            "success" == t && 1 == e.success
                ? display_list(e.body)
                : alert(e.msg);
        });
}
function get_order_ls() {
    set_auth(),
        $.post("/su/order", {}, function (e, t, s) {
            "success" == t && 1 == e.success
                ? display_order_ls(e.body)
                : alert(e.msg);
        });
}
function pack_deport_order(e) {
    set_auth(),
        $.post("/su/pack_deport_order", { order_id: e }, function (e, t, s) {
            "success" == t && 1 == e.success
                ? (alert(e.msg), document.location.reload())
                : alert(e.msg);
        });
}
function get_admin_data() {
    set_auth(),
        $.post("/su/admin_dash", {}, function (e, t, s) {
            "success" == t && 1 == e.success
                ? display_admin(e.body)
                : alert(e.msg);
        });
}
